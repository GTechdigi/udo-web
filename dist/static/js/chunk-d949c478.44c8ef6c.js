(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d949c478"],{"4c0e":function(t,a,e){},"6e50":function(t,a,e){"use strict";e("4c0e")},9406:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard-editor-container"},[e("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel",attrs:{onclick:"location='/project/list'"}},[e("div",{staticClass:"card-panel-icon-wrapper icon-people"},[e("svg-icon",{attrs:{"icon-class":"table","class-name":"card-panel-icon"}})],1),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v(" 总项目数 ")]),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.project_count,duration:t.project_count/5}})],1)])]),e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel",attrs:{onclick:"location='/rule/list'"}},[e("div",{staticClass:"card-panel-icon-wrapper icon-message"},[e("svg-icon",{attrs:{"icon-class":"list","class-name":"card-panel-icon"}})],1),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v(" 总规则数 ")]),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.rule_count,duration:t.rule_count/5}})],1)])]),e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel",attrs:{onclick:"location='/job/list'"}},[e("div",{staticClass:"card-panel-icon-wrapper icon-money"},[e("svg-icon",{attrs:{"icon-class":"component","class-name":"card-panel-icon"}})],1),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v(" 总任务数 ")]),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.job_count,duration:t.job_count/5}})],1)])]),e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel",attrs:{onclick:"location='/logs/list'"}},[e("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[e("svg-icon",{attrs:{"icon-class":"documentation","class-name":"card-panel-icon"}})],1),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v(" 昨日运行(总/成功/失败) ")]),e("span",{staticClass:"card-panel-num",staticStyle:{color:"blue"}},[t._v(t._s(t.yes_rule_count)+"/")]),e("span",{staticClass:"card-panel-num",staticStyle:{color:"green"}},[t._v(t._s(t.rule_success_count)+"/")]),e("span",{staticClass:"card-panel-num",staticStyle:{color:"red"}},[t._v(t._s(t.rule_fail_count))])])])])],1),e("el-row",{attrs:{gutter:32}},[e("el-col",{attrs:{xs:24,sm:24,lg:12}},[e("div",{staticClass:"chart-wrapper"},[e("div",{staticClass:"chart",staticStyle:{height:"350px",width:"100%"},attrs:{id:"pie1"}})])]),e("el-col",{attrs:{xs:24,sm:24,lg:12}},[e("div",{staticClass:"chart-wrapper"},[e("div",{staticClass:"chart",staticStyle:{height:"350px",width:"100%"},attrs:{id:"pie2"}})])])],1),e("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[e("div",{staticClass:"chart",staticStyle:{height:"300px",width:"100%"},attrs:{id:"line1"}})])],1)},s=[],c=(e("d3b7"),e("159b"),e("14d9"),e("b0c0"),e("b775"));function i(){return Object(c["a"])({url:"/dashboard/lastMonthJobTrend",method:"get"})}function o(){return Object(c["a"])({url:"/dashboard/ruleYesterdaySuccessCount",method:"get"})}function r(){return Object(c["a"])({url:"/dashboard/ruleYesterdayFailCount",method:"get"})}function l(){return Object(c["a"])({url:"/dashboard/projectCount",method:"get"})}function d(){return Object(c["a"])({url:"/dashboard/jobCount",method:"get"})}function u(){return Object(c["a"])({url:"/dashboard/ruleCount",method:"get"})}function p(){return Object(c["a"])({url:"/dashboard/projectRuleCount",method:"get"})}function m(){return Object(c["a"])({url:"/dashboard/projectJobCount",method:"get"})}var h=e("ec1b"),f=e.n(h),_=e("313e");e("817d");var b={name:"Dashboard",components:{CountTo:f.a},data:function(){return{dbCont:"",alarmCont:"",logCont:"",rule_success_count:0,rule_fail_count:0,rule_count:0,yes_rule_count:0,job_count:0,project_count:0,ruleForm:{page_num:"1",page_size:"10"},datas:{daysList:[],failNumberList:[],successNumberList:[]},data1:[],data1_name:[],data2:[],data2_name:[]}},created:function(){this.getCount()},mounted:function(){var t=this;this.$nextTick((function(){t.myPie1Echarts(),t.myPie2Echarts(),t.myLineEcharts()}))},methods:{getCount:function(){var t=this;i().then((function(a){t.datas=a.data,t.myLineEcharts()})),r().then((function(a){t.rule_fail_count=a.data})),o().then((function(a){t.rule_success_count=a.data,t.yes_rule_count=t.rule_success_count+t.rule_fail_count})),d().then((function(a){t.job_count=a.data})),l().then((function(a){t.project_count=a.data})),u().then((function(a){t.rule_count=a.data})),m().then((function(a){t.data2=a.data,t.data2_name=[],a.data.forEach((function(a){t.data2_name.push(a.name)})),t.myPie2Echarts()})),p().then((function(a){t.data1=a.data,t.data1_name=[],a.data.forEach((function(a){t.data1_name.push(a.name)})),t.myPie1Echarts()}))},myPie1Echarts:function(){var t=_["init"](document.getElementById("pie1"),"macarons");t.setOption({title:{text:"项目规则数量分布",left:"left",textStyle:{color:"#000"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:this.data1_name},series:[{name:"项目规则数量分布",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:this.data1,animationEasing:"cubicInOut",animationDuration:2600}]})},myPie2Echarts:function(){var t=_["init"](document.getElementById("pie2"),"macarons");t.setOption({title:{text:"项目任务数量分布",left:"left",textStyle:{color:"#000"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:this.data2_name},series:[{name:"项目任务数量分布",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:this.data2,animationEasing:"cubicInOut",animationDuration:2600}]})},myLineEcharts:function(){var t=_["init"](document.getElementById("line1"),"macarons");t.setOption({title:{text:"近30天运行任务数量趋势",left:"left",textStyle:{color:"#000"}},xAxis:{data:this.datas.daysList,boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:40,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["Success","Failed"]},series:[{name:"Failed",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:this.datas.failNumberList,animationDuration:2800,animationEasing:"cubicInOut"},{name:"Success",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:this.datas.successNumberList,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},g=b,v=(e("6e50"),e("2877")),C=Object(v["a"])(g,n,s,!1,null,"e8013290",null);a["default"]=C.exports}}]);